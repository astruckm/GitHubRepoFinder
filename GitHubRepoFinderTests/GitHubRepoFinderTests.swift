//
//  GitHubRepoFinderTests.swift
//  GitHubRepoFinderTests
//
//  Created by Andrew Struck-Marcell on 7/9/22.
//

import XCTest
@testable import GitHubRepoFinder

class GitHubRepoFinderTests: XCTestCase {
    enum MockData {
        static let readMe1 = """
  <div id=\"readme\" class=\"md\" data-path=\"README.md\"><article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><h1 dir=\"auto\"><a id=\"user-content-react-hook-form-stepform\" class=\"anchor\" href=\"#react-hook-form-stepform\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>React-Hook-Form Stepform</h1>\n\n<p dir=\"auto\"><a href=\"#contributors-\"><img src=\"https://camo.githubusercontent.com/717335dcbf36940a0e98608501b9bbb3e12511e9ce572b67997da98bc5f3180f/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f616c6c5f636f6e7472696275746f72732d322d6f72616e67652e7376673f7374796c653d666c61742d737175617265\" alt=\"All Contributors\" data-canonical-src=\"https://img.shields.io/badge/all_contributors-2-orange.svg?style=flat-square\" style=\"max-width: 100%;\"></a></p>\n\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://camo.githubusercontent.com/ba4a653d9ea934607a5cb0084b3198cfa13185dd4028bfc06b9df4463564c922/68747470733a2f2f736f6369616c6966792e6769742e63692f7468656f646f727573636c6172656e63652f7268662d73746570666f726d2f696d6167653f6465736372697074696f6e3d31266c616e67756167653d31266f776e65723d31267061747465726e3d436861726c696525323042726f776e267374617267617a6572733d31267468656d653d4461726b\"><img src=\"https://camo.githubusercontent.com/ba4a653d9ea934607a5cb0084b3198cfa13185dd4028bfc06b9df4463564c922/68747470733a2f2f736f6369616c6966792e6769742e63692f7468656f646f727573636c6172656e63652f7268662d73746570666f726d2f696d6167653f6465736372697074696f6e3d31266c616e67756167653d31266f776e65723d31267061747465726e3d436861726c696525323042726f776e267374617267617a6572733d31267468656d653d4461726b\" alt=\"rhf-stepform\" data-canonical-src=\"https://socialify.git.ci/theodorusclarence/rhf-stepform/image?description=1&amp;language=1&amp;owner=1&amp;pattern=Charlie%20Brown&amp;stargazers=1&amp;theme=Dark\" style=\"max-width: 100%;\"></a></p>\n<h2 dir=\"auto\"><a id=\"user-content-code-to-observe\" class=\"anchor\" href=\"#code-to-observe\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Code to observe:</h2>\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/theodorusclarence/rhf-stepform/tree/main/pages/form\">https://github.com/theodorusclarence/rhf-stepform/tree/main/pages/form</a>, form pages</li>\n<li><a href=\"https://github.com/theodorusclarence/rhf-stepform/blob/main/store/useFormStore.tsx\">https://github.com/theodorusclarence/rhf-stepform/blob/main/store/useFormStore.tsx</a>, where form data is stored</li>\n<li><a href=\"https://github.com/theodorusclarence/rhf-stepform/blob/main/lib/yup.ts\">https://github.com/theodorusclarence/rhf-stepform/blob/main/lib/yup.ts</a>, yup schema</li>\n<li><a href=\"https://github.com/theodorusclarence/rhf-stepform/blob/main/types.ts\">https://github.com/theodorusclarence/rhf-stepform/blob/main/types.ts</a>, form type declaration</li>\n<li><a href=\"https://github.com/theodorusclarence/rhf-stepform/tree/main/components/Forms\">https://github.com/theodorusclarence/rhf-stepform/tree/main/components/Forms</a>, form components</li>\n</ul>\n<h2 dir=\"auto\"><a id=\"user-content-key-points\" class=\"anchor\" href=\"#key-points\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Key Points</h2>\n<h3 dir=\"auto\"><a id=\"user-content-each-time-submitting-data-is-stored-in-formstore\" class=\"anchor\" href=\"#each-time-submitting-data-is-stored-in-formstore\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Each time submitting, data is stored in FormStore</h3>\n<div class=\"highlight highlight-source-tsx notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"const onSubmit = (data: StepOneData) =&gt; {\n  setData({ step: 1, data });\n  router.push(\'/form/step-2\');\n};\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-en\">onSubmit</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">data</span>: <span class=\"pl-smi\">StepOneData</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-en\">setData</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span> <span class=\"pl-c1\">step</span>: <span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> data <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-s1\">router</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\'/form/step-2\'</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span></pre></div>\n<h3 dir=\"auto\"><a id=\"user-content-the-stored-data-will-be-used-as-a-default-value-on-revisit\" class=\"anchor\" href=\"#the-stored-data-will-be-used-as-a-default-value-on-revisit\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>The stored data will be used as a default value on revisit</h3>\n<div class=\"highlight highlight-source-tsx notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"const { stepOne, setData } = useFormStore();\n\nconst methods = useForm({\n  mode: \'onTouched\',\n  resolver: yupResolver(stepOneSchema),\n  defaultValues: stepOne || {},\n});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-kos\">{</span> stepOne<span class=\"pl-kos\">,</span> setData <span class=\"pl-kos\">}</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">useFormStore</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">methods</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">useForm</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>\n  <span class=\"pl-c1\">mode</span>: <span class=\"pl-s\">\'onTouched\'</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-c1\">resolver</span>: <span class=\"pl-en\">yupResolver</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">stepOneSchema</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-c1\">defaultValues</span>: <span class=\"pl-s1\">stepOne</span> <span class=\"pl-c1\">||</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<h3 dir=\"auto\"><a id=\"user-content-upload-form\" class=\"anchor\" href=\"#upload-form\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Upload Form</h3>\n<p dir=\"auto\">The tricky part lies in Upload Form. The data that is originally stored by the input is <code>File</code> object, but if we store it in zustand, it will be transformed into regular object. This will cause an error when we invoke the <code>URL.createObjectURL(file)</code> for the FilePreview.</p>\n<p dir=\"auto\">So we need to invoke it while we get the original File, and store the URL as a new property. In that way, we only invoke it once, and just use the blob url for revisit.</p>\n<div class=\"highlight highlight-source-tsx notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"const acceptedFilesPreview = acceptedFiles.map(\n  (file: FileWithPreview) =&gt;\n    Object.assign(file, {\n      preview: URL.createObjectURL(file),\n    })\n);\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">acceptedFilesPreview</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">acceptedFiles</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">map</span><span class=\"pl-kos\">(</span>\n  <span class=\"pl-kos\">(</span><span class=\"pl-s1\">file</span>: <span class=\"pl-smi\">FileWithPreview</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span>\n    <span class=\"pl-smi\">Object</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">assign</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">file</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-c1\">preview</span>: <span class=\"pl-smi\">URL</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">createObjectURL</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">file</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<h2 dir=\"auto\"><a id=\"user-content-contributors-\" class=\"anchor\" href=\"#contributors-\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Contributors <g-emoji class=\"g-emoji\" alias=\"sparkles\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/2728.png\">✨</g-emoji></h2>\n<p dir=\"auto\">Thanks goes to these wonderful people (<a href=\"https://allcontributors.org/docs/en/emoji-key\" rel=\"nofollow\">emoji key</a>):</p>\n\n\n\n<table>\n  <tbody><tr>\n    <td align=\"center\"><a href=\"https://theodorusclarence.com\" rel=\"nofollow\"><img src=\"https://avatars.githubusercontent.com/u/55318172?v=4?s=100\" width=\"100px;\" alt=\"\" style=\"max-width: 100%;\"><br><sub><b>Theodorus Clarence</b></sub></a><br><a href=\"https://github.com/theodorusclarence/rhf-stepform/commits?author=theodorusclarence\" title=\"Code\"><g-emoji class=\"g-emoji\" alias=\"computer\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4bb.png\">💻</g-emoji></a></td>\n    <td align=\"center\"><a href=\"https://github.com/rizqitsani\"><img src=\"https://avatars.githubusercontent.com/u/68275535?v=4?s=100\" width=\"100px;\" alt=\"\" style=\"max-width: 100%;\"><br><sub><b>Muhammad Rizqi Tsani</b></sub></a><br><a href=\"https://github.com/theodorusclarence/rhf-stepform/commits?author=rizqitsani\" title=\"Code\"><g-emoji class=\"g-emoji\" alias=\"computer\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4bb.png\">💻</g-emoji></a></td>\n  </tr>\n</tbody></table>\n\n\n\n<p dir=\"auto\">This project follows the <a href=\"https://github.com/all-contributors/all-contributors\">all-contributors</a> specification. Contributions of any kind welcome!</p>\n</article></div>"
"""
        static let readMe2 = """
  <div id=\"readme\" class=\"md\" data-path=\"README.md\"><article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><h1 dir=\"auto\"><a id=\"user-content-svelte-yup-form-validation\" class=\"anchor\" href=\"#svelte-yup-form-validation\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>svelte-yup-form-validation</h1>\n<p dir=\"auto\">This is example code for my blog post - <a href=\"https://codechips.me/svelte-form-validation-with-yup/\" rel=\"nofollow\">Svelte form validation with Yup</a>.</p>\n<h2 dir=\"auto\"><a id=\"user-content-how-to-run\" class=\"anchor\" href=\"#how-to-run\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>How to run</h2>\n<p dir=\"auto\">Clone and run <code>npm i &amp;&amp; npm start</code></p>\n<h2 dir=\"auto\"><a id=\"user-content-there-is-more\" class=\"anchor\" href=\"#there-is-more\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>There is more!</h2>\n<p dir=\"auto\">For more interesting stuff like this follow me on <a href=\"https://twitter.com/codechips\" rel=\"nofollow\">Twitter</a> or check out my blog <a href=\"https://codechips.me\" rel=\"nofollow\">https://codechips.me</a></p>\n</article></div>
"""
        
        static let readMe3 = """
  <div id=\"readme\" class=\"md\" data-path=\"readme.md\"><article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><h1 dir=\"auto\"><a id=\"user-content-gift-vuex-store-validator\" class=\"anchor\" href=\"#gift-vuex-store-validator\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><g-emoji class=\"g-emoji\" alias=\"gift\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f381.png\">🎁</g-emoji> Vuex Store Validator</h1>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"./assets/main.png\"><img src=\"./assets/main.png\" alt=\"Vuex Store Validator\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://camo.githubusercontent.com/cb8e088b151245aa694406d18f7b178eb4a928f273a48666c50274c5e0fa76c8/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f776f726b666c6f772f7374617475732f747a736b2f767565782d73746f72652d76616c696461746f722f54657374732f6d61737465723f6c6f676f3d676974687562267374796c653d666f722d7468652d6261646765\"><img src=\"https://camo.githubusercontent.com/cb8e088b151245aa694406d18f7b178eb4a928f273a48666c50274c5e0fa76c8/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f776f726b666c6f772f7374617475732f747a736b2f767565782d73746f72652d76616c696461746f722f54657374732f6d61737465723f6c6f676f3d676974687562267374796c653d666f722d7468652d6261646765\" alt=\"Build\" data-canonical-src=\"https://img.shields.io/github/workflow/status/tzsk/vuex-store-validator/Tests/master?logo=github&amp;style=for-the-badge\" style=\"max-width: 100%;\"></a>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://camo.githubusercontent.com/0beb6a3912fd2059340ad7a9c712d56fc530413f0ad8083d7a3cfa31384e0ea5/68747470733a2f2f696d672e736869656c64732e696f2f636f766572616c6c732f6769746875622f747a736b2f767565782d73746f72652d76616c696461746f722f6d61737465723f6c6f676f3d636f766572616c6c73267374796c653d666f722d7468652d6261646765\"><img src=\"https://camo.githubusercontent.com/0beb6a3912fd2059340ad7a9c712d56fc530413f0ad8083d7a3cfa31384e0ea5/68747470733a2f2f696d672e736869656c64732e696f2f636f766572616c6c732f6769746875622f747a736b2f767565782d73746f72652d76616c696461746f722f6d61737465723f6c6f676f3d636f766572616c6c73267374796c653d666f722d7468652d6261646765\" alt=\"Coveralls\" data-canonical-src=\"https://img.shields.io/coveralls/github/tzsk/vuex-store-validator/master?logo=coveralls&amp;style=for-the-badge\" style=\"max-width: 100%;\"></a>\n<a href=\"https://www.npmjs.com/package/vuex-store-validator\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/3a4204b0d4471511a0f7cc74422df70c7029a865f89773ee1d264cb386ad8563/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f767565782d73746f72652d76616c696461746f723f6c6f676f3d6e706d267374796c653d666f722d7468652d6261646765\" alt=\"npm\" data-canonical-src=\"https://img.shields.io/npm/v/vuex-store-validator?logo=npm&amp;style=for-the-badge\" style=\"max-width: 100%;\"></a>\n<a href=\"https://www.npmjs.com/package/vuex-store-validator\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/8fcc183cd83c2537facd16319dd1708988b82991d39c70c727d5ef4c1c372400/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f64742f767565782d73746f72652d76616c696461746f723f6c6f676f3d6e706d267374796c653d666f722d7468652d6261646765\" alt=\"npm\" data-canonical-src=\"https://img.shields.io/npm/dt/vuex-store-validator?logo=npm&amp;style=for-the-badge\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">This package helps you to validate how you mutate your Vuex store. You can say that it is a Validator for the mutations. You can easily validate the payload for each of your mutations, so that you can be sure of the integrity of your Store Data.</p>\n<p dir=\"auto\">This package also has support for any custom schema validator you may choose. You can create your own implementation and extend this package to use that schema.</p>\n<p dir=\"auto\">Though Vuex allows you to set the store state directly without calling any mutation. This package won\'t validate anything outside the mutations.</p>\n<h2 dir=\"auto\"><a id=\"user-content-package-installation\" class=\"anchor\" href=\"#package-installation\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><g-emoji class=\"g-emoji\" alias=\"package\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4e6.png\">📦</g-emoji> Installation</h2>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// NPM:\n$ npm install --save vuex-store-validator\n\n// Yarn:\n$ yarn add vuex-store-validator\"><pre>// NPM:\n$ npm install --save vuex-store-validator\n\n// Yarn:\n$ yarn add vuex-store-validator</pre></div>\n<p dir=\"auto\">By default it comes with <code>Joi</code> validator. It also has support for <code>Superstruct</code> and <code>Yup</code> validation engine. Read their respective docs to find out which one is best for you.</p>\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/sideway/joi/blob/master/API.md\">Joi Documentation</a></li>\n<li><a href=\"https://github.com/ianstormtaylor/superstruct/blob/master/Readme.md\">Superstruct Documentation</a></li>\n<li><a href=\"https://github.com/jquense/yup/blob/master/README.md\">Yup Documentation</a></li>\n</ul>\n<p dir=\"auto\">It did come with <code>Ajv</code> validation engine on <code>^1.0</code> but for the sake of bundle size it is removed from the bundle, but no need to worry, you can still make use of it by providing custom validator to the package.</p>\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/ajv-validator/ajv/blob/master/README.md\">Ajv Documentation</a></li>\n</ul>\n<h4 dir=\"auto\"><a id=\"user-content-setup-joi\" class=\"anchor\" href=\"#setup-joi\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Setup Joi</h4>\n<p dir=\"auto\">If you want to use joi then you\'ll have to install it as your project dependency.</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// NPM:\n$ npm install --save joi\n\n// Yarn:\n$ yarn add joi\"><pre>// NPM:\n$ npm install --save joi\n\n// Yarn:\n$ yarn add joi</pre></div>\n<h4 dir=\"auto\"><a id=\"user-content-setup-superstruct\" class=\"anchor\" href=\"#setup-superstruct\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Setup Superstruct</h4>\n<p dir=\"auto\">If you want to use superstruct then you\'ll have to install it as your project dependency.</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// NPM:\n$ npm install --save superstruct\n\n// Yarn:\n$ yarn add superstruct\"><pre>// NPM:\n$ npm install --save superstruct\n\n// Yarn:\n$ yarn add superstruct</pre></div>\n<h4 dir=\"auto\"><a id=\"user-content-setup-yup\" class=\"anchor\" href=\"#setup-yup\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Setup Yup</h4>\n<p dir=\"auto\">If you want to use yup then you\'ll have to install it as your project dependency.</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// NPM:\n$ npm install --save yup\n\n// Yarn:\n$ yarn add yup\"><pre>// NPM:\n$ npm install --save yup\n\n// Yarn:\n$ yarn add yup</pre></div>\n<h4 dir=\"auto\"><a id=\"user-content-setup-ajv\" class=\"anchor\" href=\"#setup-ajv\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Setup Ajv</h4>\n<p dir=\"auto\">If you want to use ajv then you\'ll have to install it as your project dependency.</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// NPM:\n$ npm install --save ajv\n\n// Yarn:\n$ yarn add ajv\"><pre>// NPM:\n$ npm install --save ajv\n\n// Yarn:\n$ yarn add ajv</pre></div>\n<p dir=\"auto\">After that, see how to setup <code>AJV</code> with this package here: <a href=\"#boom-custom-validator-usage\">Custom Validator Usage</a></p>\n<h2 dir=\"auto\"><a id=\"user-content-fire-usage\" class=\"anchor\" href=\"#fire-usage\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><g-emoji class=\"g-emoji\" alias=\"fire\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f525.png\">🔥</g-emoji> Usage</h2>\n<ol dir=\"auto\">\n<li>Add the validator to the plugins section of your Root Store.</li>\n</ol>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// store.js\nimport VuexStoreValidator from \'vuex-store-validator\';\n\nexport default new Vuex.Store({\n    ...\n    plugins: [new VuexStoreValidator()],\n});\"><pre><span class=\"pl-c\">// store.js</span>\n<span class=\"pl-k\">import</span> <span class=\"pl-v\">VuexStoreValidator</span> <span class=\"pl-k\">from</span> <span class=\"pl-s\">\'vuex-store-validator\'</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-k\">export</span> <span class=\"pl-k\">default</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Vuex</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">Store</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>\n    ...\n    <span class=\"pl-s1\">plugins</span>: <span class=\"pl-kos\">[</span><span class=\"pl-k\">new</span> <span class=\"pl-v\">VuexStoreValidator</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<ol start=\"2\" dir=\"auto\">\n<li>Add Rules to your store and respective modules</li>\n</ol>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// store.js\nimport VuexStoreValidator, { ENGINE } from \'vuex-store-validator\';\n\nexport default new Vuex.Store({\n    rules: {\n        SET_USER: ...SCHEMA HERE...\n    },\n    state: {user: null},\n    mutations: {\n        SET_USER(state, user) {\n            state.user = user;\n        }\n    },\n    plugins: [new VuexStoreValidator()],\n});\n\n// Joi Schema...\nimport Joi from \'joi\';\nSET_USER: Joi.object({\n    name: Joi.string().required(),\n    age: Joi.number().required(),\n}).required(),\n\n// Superstruct Schema...\nimport {object, string, number} from \'superstruct\';\nSET_USER: object({\n    name: string(),\n    age: number(),\n}),\n\n// Yup Schema...\nimport {object, string, number} from \'yup\';\nSET_USER: object().shape({\n    name: string().required(),\n    age: number().required(),\n}).required(),\"><pre><span class=\"pl-c\">// store.js</span>\n<span class=\"pl-k\">import</span> <span class=\"pl-v\">VuexStoreValidator</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">ENGINE</span> <span class=\"pl-kos\">}</span> <span class=\"pl-k\">from</span> <span class=\"pl-s\">\'vuex-store-validator\'</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-k\">export</span> <span class=\"pl-k\">default</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Vuex</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">Store</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>\n    <span class=\"pl-c1\">rules</span>: <span class=\"pl-kos\">{</span>\n        <span class=\"pl-c1\">SET_USER</span>: ...<span class=\"pl-c1\">SCHEMA</span> <span class=\"pl-c1\">HERE</span>...\n    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-c1\">state</span>: <span class=\"pl-kos\">{</span><span class=\"pl-c1\">user</span>: <span class=\"pl-s1\">null</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-c1\">mutations</span>: <span class=\"pl-kos\">{</span>\n        <span class=\"pl-c1\">SET_USER</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">state</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">user</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n            state<span class=\"pl-kos\">.</span><span class=\"pl-s1\">user</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">user</span><span class=\"pl-kos\">;</span>\n        <span class=\"pl-kos\">}</span>\n    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-c1\">plugins</span>: <span class=\"pl-kos\">[</span><span class=\"pl-s1\">new</span> <span class=\"pl-v\">VuexStoreValidator</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-c\">// Joi Schema...</span>\n<span class=\"pl-k\">import</span> <span class=\"pl-v\">Joi</span> <span class=\"pl-k\">from</span> <span class=\"pl-s\">\'joi\'</span><span class=\"pl-kos\">;</span>\nSET_USER: <span class=\"pl-v\">Joi</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">object</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>\n    <span class=\"pl-c1\">name</span>: <span class=\"pl-v\">Joi</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">string</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">required</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-c1\">age</span>: <span class=\"pl-v\">Joi</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">number</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">required</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">required</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n\n<span class=\"pl-c\">// Superstruct Schema...</span>\n<span class=\"pl-k\">import</span><span class=\"pl-kos\"></span> <span class=\"pl-kos\">{</span><span class=\"pl-s1\">object</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">string</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">number</span><span class=\"pl-kos\">}</span> <span class=\"pl-s1\">from</span><span class=\"pl-kos\"></span> <span class=\"pl-s\">\'superstruct\'</span><span class=\"pl-kos\">;</span>\nSET_USER: <span class=\"pl-en\">object</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>\n    <span class=\"pl-c1\">name</span>: <span class=\"pl-en\">string</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-c1\">age</span>: <span class=\"pl-en\">number</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n\n<span class=\"pl-c\">// Yup Schema...</span>\n<span class=\"pl-k\">import</span><span class=\"pl-kos\"></span> <span class=\"pl-kos\">{</span><span class=\"pl-s1\">object</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">string</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">number</span><span class=\"pl-kos\">}</span> <span class=\"pl-s1\">from</span><span class=\"pl-kos\"></span> <span class=\"pl-s\">\'yup\'</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-c1\">SET_USER</span>: <span class=\"pl-en\">object</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">shape</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>\n    <span class=\"pl-c1\">name</span>: <span class=\"pl-en\">string</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">required</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-c1\">age</span>: <span class=\"pl-en\">number</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">required</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">required</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span></pre></div>\n<p dir=\"auto\"><strong>NOTE:</strong> If you want to use anything other than Joi then, you will have to add the engine option in the plugin registration</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// Superstruct...\nplugins: [new VuexStoreValidator({engine: ENGINE.SUPERSTRUCT})],\n\n// Yup...\nplugins: [new VuexStoreValidator({engine: ENGINE.YUP})],\"><pre><span class=\"pl-c\">// Superstruct...</span>\n<span class=\"pl-s1\">plugins</span>: <span class=\"pl-kos\">[</span><span class=\"pl-k\">new</span> <span class=\"pl-v\">VuexStoreValidator</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span><span class=\"pl-c1\">engine</span>: <span class=\"pl-c1\">ENGINE</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">SUPERSTRUCT</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n\n<span class=\"pl-c\">// Yup...</span>\n<span class=\"pl-s1\">plugins</span>: <span class=\"pl-kos\">[</span><span class=\"pl-k\">new</span> <span class=\"pl-v\">VuexStoreValidator</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span><span class=\"pl-c1\">engine</span>: <span class=\"pl-c1\">ENGINE</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">YUP</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span></pre></div>\n<h3 dir=\"auto\"><a id=\"user-content-tada-congratulations-youre-all-done\" class=\"anchor\" href=\"#tada-congratulations-youre-all-done\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><g-emoji class=\"g-emoji\" alias=\"tada\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f389.png\">🎉</g-emoji> Congratulations! You\'re all done.</h3>\n<p dir=\"auto\">Now whenever you call the mutation from anywhere be it inside an action or from any component. The payload you pass will be validated against the schema you\'ve defined.</p>\n<p dir=\"auto\">For the above piece of code if you try and call the <code>SET_USER</code> mutation without valid data:</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// From a Component\nthis.$store.commit(\'SET_USER\', {name: \'John\'});\n// Or from an action\nlogin({commit}, user) {\n    commit(\'SET_USER\', {name: \'John\'});\n}\n\n// Result: \n// ValidationError: &quot;email&quot; field is required for mutation: SET_USER\"><pre><span class=\"pl-c\">// From a Component</span>\n<span class=\"pl-smi\">this</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">$store</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">commit</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\'SET_USER\'</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-c1\">name</span>: <span class=\"pl-s\">\'John\'</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-c\">// Or from an action</span>\n<span class=\"pl-en\">login</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>commit<span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">user</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\"></span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-en\">commit</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\'SET_USER\'</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-c1\">name</span>: <span class=\"pl-s\">\'John\'</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// Result: </span>\n<span class=\"pl-c\">// ValidationError: \"email\" field is required for mutation: SET_USER</span></pre></div>\n<p dir=\"auto\">This will work for all the nested modules as well. Just remember to add a new <code>rules</code> option to your module definition with state, action etc.</p>\n<h3 dir=\"auto\"><a id=\"user-content-star-closure-support\" class=\"anchor\" href=\"#star-closure-support\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><g-emoji class=\"g-emoji\" alias=\"star\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/2b50.png\">⭐</g-emoji> Closure Support</h3>\n<p dir=\"auto\">Let\'s face it, the real world projects are complex. It\'s not as straight forward as defining a schema. Sometimes you need to have conditional schema which depends on some other state property or the mutation payload itself.</p>\n<p dir=\"auto\">But don\'t worry, you can even define the schema in a closure. You have 2 parameters available in that closure. The store and the mutation payload itself.</p>\n<p dir=\"auto\"><strong>Example:</strong></p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"rules: {\n    SET_USER(store, data) {\n        // Store -&gt; Global Store instance\n        // Data -&gt; {name: \'John\'}\n\n        return Joi.object({\n            ...\n        });\n    }\n}\"><pre>rules: <span class=\"pl-kos\">{</span>\n    <span class=\"pl-en\">SET_USER</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">store</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">data</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n        <span class=\"pl-c\">// Store -&gt; Global Store instance</span>\n        <span class=\"pl-c\">// Data -&gt; {name: \'John\'}</span>\n\n        <span class=\"pl-k\">return</span> <span class=\"pl-v\">Joi</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">object</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>\n            ...\n        <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<h3 dir=\"auto\"><a id=\"user-content-muscle-strict-mode\" class=\"anchor\" href=\"#muscle-strict-mode\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><g-emoji class=\"g-emoji\" alias=\"muscle\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4aa.png\">💪</g-emoji> Strict Mode</h3>\n<h4 dir=\"auto\"><a id=\"user-content-what-if-you-dont-specify-any-schema-for-your-legacy-store\" class=\"anchor\" href=\"#what-if-you-dont-specify-any-schema-for-your-legacy-store\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>What if you don\'t specify any schema for your Legacy Store?</h4>\n<p dir=\"auto\">That\'s not a problem at all. Your project will work as is. This package will only validate the ones for which you have specified a schema. Unless you are using this package in <code>Strict Mode</code>.</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// store.js\nimport VuexStoreValidator from \'vuex-store-validator\';\n\nexport default new Vuex.Store({\n    ...\n    plugins: [new VuexStoreValidator({strict: true})],\n});\"><pre><span class=\"pl-c\">// store.js</span>\n<span class=\"pl-k\">import</span> <span class=\"pl-v\">VuexStoreValidator</span> <span class=\"pl-k\">from</span> <span class=\"pl-s\">\'vuex-store-validator\'</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-k\">export</span> <span class=\"pl-k\">default</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Vuex</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">Store</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>\n    ...\n    <span class=\"pl-s1\">plugins</span>: <span class=\"pl-kos\">[</span><span class=\"pl-k\">new</span> <span class=\"pl-v\">VuexStoreValidator</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span><span class=\"pl-c1\">strict</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p dir=\"auto\">If you set strict mode to <code>true</code>, then if you don\'t have a schema defined for any of your mutation, it will throw an exception.</p>\n<h3 dir=\"auto\"><a id=\"user-content-boom-custom-validator-usage\" class=\"anchor\" href=\"#boom-custom-validator-usage\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\">💥</g-emoji> Custom Validator Usage</h3>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"import Ajv from \'ajv\';\n\n// Define an async validator...\n/**\n * It accepts the schema and the data payload\n * It should throw an error if your validation fails OR\n * The return value should be the error string or null\n */\nconst ajvEngine = async (schema, data) =&gt; {\n  const ajv = new Ajv({ jsonPointers: true, $data: true });\n  const validate = ajv.compile(schema || {});\n\n  await validate(data);\n  if (validate.errors) {\n    throw new Error(validate.errors.map((item) =&gt; item.message).join(\', \'));\n  }\n};\n\n// Now extend with the custom validator...\nplugins: [\n    new VuexStoreValidator({\n        engine: \'ajv\',\n        extend: {\n            ajv: ajvEngine,\n        },\n    })\n]\n\n// Make sure that the engine name and the extend key are the same\n\n// Now your schema would look something like this:\nrules: {\n    MUTATION_NAME: {\n        type: \'object\',\n        properties: {\n            name: {\n                type: \'string\',\n            },\n            age: {\n                type: \'number\',\n            },\n        },\n        required: [\'name\', \'age\'],\n    },\n}\"><pre><span class=\"pl-k\">import</span> <span class=\"pl-v\">Ajv</span> <span class=\"pl-k\">from</span> <span class=\"pl-s\">\'ajv\'</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-c\">// Define an async validator...</span>\n<span class=\"pl-c\">/**</span>\n<span class=\"pl-c\"> * It accepts the schema and the data payload</span>\n<span class=\"pl-c\"> * It should throw an error if your validation fails OR</span>\n<span class=\"pl-c\"> * The return value should be the error string or null</span>\n<span class=\"pl-c\"> */</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-en\">ajvEngine</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">async</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">schema</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">data</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">ajv</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Ajv</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span> <span class=\"pl-c1\">jsonPointers</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">$data</span>: <span class=\"pl-c1\">true</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">validate</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">ajv</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">compile</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">schema</span> <span class=\"pl-c1\">||</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n  <span class=\"pl-k\">await</span> <span class=\"pl-s1\">validate</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">data</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">validate</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">errors</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">throw</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Error</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">validate</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">errors</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">map</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">item</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s1\">item</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">message</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">join</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\', \'</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-c\">// Now extend with the custom validator...</span>\nplugins: <span class=\"pl-kos\">[</span>\n    <span class=\"pl-k\">new</span> <span class=\"pl-v\">VuexStoreValidator</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>\n        <span class=\"pl-c1\">engine</span>: <span class=\"pl-s\">\'ajv\'</span><span class=\"pl-kos\">,</span>\n        <span class=\"pl-c1\">extend</span>: <span class=\"pl-kos\">{</span>\n            <span class=\"pl-c1\">ajv</span>: <span class=\"pl-en\">ajvEngine</span><span class=\"pl-kos\">,</span>\n        <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-kos\">]</span>\n\n<span class=\"pl-c\">// Make sure that the engine name and the extend key are the same</span>\n\n<span class=\"pl-c\">// Now your schema would look something like this:</span>\nrules: <span class=\"pl-kos\">{</span>\n    <span class=\"pl-c1\">MUTATION_NAME</span>: <span class=\"pl-kos\">{</span>\n        <span class=\"pl-c1\">type</span>: <span class=\"pl-s\">\'object\'</span><span class=\"pl-kos\">,</span>\n        <span class=\"pl-c1\">properties</span>: <span class=\"pl-kos\">{</span>\n            <span class=\"pl-c1\">name</span>: <span class=\"pl-kos\">{</span>\n                <span class=\"pl-c1\">type</span>: <span class=\"pl-s\">\'string\'</span><span class=\"pl-kos\">,</span>\n            <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n            <span class=\"pl-c1\">age</span>: <span class=\"pl-kos\">{</span>\n                <span class=\"pl-c1\">type</span>: <span class=\"pl-s\">\'number\'</span><span class=\"pl-kos\">,</span>\n            <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n        <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n        <span class=\"pl-c1\">required</span>: <span class=\"pl-kos\">[</span><span class=\"pl-s\">\'name\'</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\'age\'</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">You can also leverage Vue PropType Validator and make your own implementation of that. Maybe even React PropType validator. Or anything you like.</p>\n<h3 dir=\"auto\"><a id=\"user-content-eyes-caution\" class=\"anchor\" href=\"#eyes-caution\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><g-emoji class=\"g-emoji\" alias=\"eyes\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f440.png\">👀</g-emoji> Caution</h3>\n<p dir=\"auto\">This package won\'t prevent you from setting invalid data to your store. But it will throw appropriate exception every time you set invalid data, so that you can be aware of where bad data might be coming from.</p>\n<p dir=\"auto\">You can see and debug your code based on the Production Logs related to any bad data. If you are using Ignition or Sentry.</p>\n<h2 dir=\"auto\"><a id=\"user-content-microscope-testing\" class=\"anchor\" href=\"#microscope-testing\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><g-emoji class=\"g-emoji\" alias=\"microscope\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f52c.png\">🔬</g-emoji> Testing</h2>\n<p dir=\"auto\">After Cloning the repository, install all npm dependencies by running: <code>npm install</code>.</p>\n<p dir=\"auto\">Then Run Tests:</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ npm run test\"><pre>$ npm run <span class=\"pl-c1\">test</span></pre></div>\n<h2 dir=\"auto\"><a id=\"user-content-date-change-log\" class=\"anchor\" href=\"#date-change-log\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><g-emoji class=\"g-emoji\" alias=\"date\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4c5.png\">📅</g-emoji> Change log</h2>\n<p dir=\"auto\">Please see <a href=\"CHANGELOG.md\">CHANGELOG</a> for more information on what has changed recently.</p>\n<h2 dir=\"auto\"><a id=\"user-content-heart-contributing\" class=\"anchor\" href=\"#heart-contributing\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><g-emoji class=\"g-emoji\" alias=\"heart\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/2764.png\">❤️</g-emoji> Contributing</h2>\n<p dir=\"auto\">Please feel free to contribute ideas and PRs are most welcome.</p>\n<h2 dir=\"auto\"><a id=\"user-content-crown-credits\" class=\"anchor\" href=\"#crown-credits\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><g-emoji class=\"g-emoji\" alias=\"crown\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f451.png\">👑</g-emoji> Credits</h2>\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/tzsk\">Kazi Mainuddin Ahmed</a></li>\n<li><a href=\"../../contributors\">All Contributors</a></li>\n</ul>\n<h2 dir=\"auto\"><a id=\"user-content-policeman-license\" class=\"anchor\" href=\"#policeman-license\" aria-hidden=\"true\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><g-emoji class=\"g-emoji\" alias=\"policeman\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f46e-2642.png\">👮‍♂️</g-emoji> License</h2>\n<p dir=\"auto\">The MIT License (MIT). Please see <a href=\"LICENSE\">License File</a> for more information.</p>\n</article></div>
"""
    }

    override func setUpWithError() throws {
        // Put setup code here. This method is called before the invocation of each test method in the class.
    }

    override func tearDownWithError() throws {
        // Put teardown code here. This method is called after the invocation of each test method in the class.
    }

    func testReadMeFirstImageUrl() {
        let readMe1ImgUrl = MockData.readMe1.gitHubReadMeFirstImageURL(repoFullName: "rhf-stepform")
        let readMe2ImgUrl = MockData.readMe2.gitHubReadMeFirstImageURL(repoFullName: "")
        let readMe3ImgUrl = MockData.readMe3.gitHubReadMeFirstImageURL(repoFullName: "")
        
        XCTAssertEqual(readMe1ImgUrl?.absoluteString, "https://github.githubassets.com/images/icons/emoji/unicode/2728.png")
        XCTAssertNil(readMe2ImgUrl)
        XCTAssertEqual(readMe3ImgUrl?.absoluteString, "https://github.githubassets.com/images/icons/emoji/unicode/1f381.png")
    }
}
